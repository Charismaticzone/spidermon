{% macro render_result(result) -%}
    â€¢  _{{ result.monitor.name }}_\n
{%- endmacro %}

{% macro render_results(color, results) %}
    {
        "text": "{% for result in results %}{{ render_result(result) }}{% endfor %}",
        "color": "{{ color }}",
        "mrkdwn_in": ["text", "pretext"]
    }
{% endmacro %}

{% macro render_passed() %}
    {{ render_results('good', result.monitors_passed_results) }}
{% endmacro %}

{% macro render_failed() %}
    {{ render_results('danger', result.monitors_failed_results) }}
{% endmacro %}

{% macro render_job_url() %}{% if data.job %} https://dash.scrapinghub.com/p/{{ data.job.key.split('/')[0] }}/job/{{ data.job.key.split('/')[1] }}/{{ data.job.key.split('/')[2] }}{% endif %}{% endmacro %}